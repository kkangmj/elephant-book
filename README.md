## 개발 환경

- Java 11
- Windows 10
- IntelliJ Ultimate

<br>

## Chapter 6. 압축 프로그래밍

> 프로그램 실행 시 eid_tags.zip 파일을 풀어 eid_tags.txt 파일을 resource 폴더 아래에 위치시켜야 한다.

### 요구사항

- eid_tags.txt 파일을 Gap과 VB Code로 부호화해 바이너리로 저장하는 프로그램을 만든다.
- 저장한 바이너리를 복원하는 프로그램을 만든다.

<br>

### Gap & VB Code 예시

- Gap
  ```text
  [3, 5, 20, 21, 23, 76, 77, 78] 
  => [3, 2, 15, 1, 2, 53, 1, 1]
  ```

- VB Code

  |  10진수   |            2진수             |           VB Code           | 
    |:-------:|:--------------------------:|:---------------------------:|
  |    5    |          00000101          |           1000101           |    
  |   128   |     00000000 10000000      |      00000001 10000000      |   
  |   700   |     00000010 10111100      |      00000101 10111100      | 
  | 1000000 | 00001111 01000010 01000000 | 00111101 10000100 110000000 |  

<br>

### 인코딩

- Topic과 Tag의 길이, Topic을 eid_tags_compressed.bin 파일에 쓰기 (Topic과 Tag의 길이는 int로 )
- Tag의 Gap을 구해 배열에 저장
- 해당 배열을 파라미터로 Core 클래스의 encode() 호출
- encode()에서 리턴한 배열을 output 파일에 쓰기
- 각 라인마다 위 단계를 반복한다.

#### Core 클래스의 encode() 함수
```text
>> Input: [700]
> Initial value: 00000000 00000000 00000000 00000000
> 700 mod 128 = 60   -> 00000000 00000000 00000000 10111100
> 700 / 128 = 5.xx   -> 00000000 00000000 00000101 10111100
>> Output: [0, 0, 5, 188]
```

#### Output 파일
```text
hpmini110	17064731
-> Topic 길이: 9, Tag 길이: 1
```

eid_tags_compressed.bin 파일을 Hex Viewer로 열어보면 아래와 같다. 빨간색 박스는 Topic의 길이와 Tag의 길이, 초록색 박스는 Topic, 보라색 박스는 Tag 값이다.

![image](https://github.com/November-22/prgrms-web-backend-14/assets/52561963/848d8e2b-0154-476a-a70e-eb20bd41e673)

<br>

### 실행 결과

Gap과 VB Code로 정수열 데이터를 압축한 결과, 파일 크기가 **33%** 줄어든 것을 확인할 수 있다. 평균 소요 시간은 5회 실행의 평균으로 잡았다. (11617ms, 10863ms, 8996ms, 10652ms, 8097ms)

|           파일명           |     압축 방식     |    크기    | 평균 소요시간 | 
|:-----------------------:|:-------------:|:--------:|:-------:|
|      eid_tags.txt       |       -       | 175660KB |    -    |
| eid_tags_compressed.bin | Gap + VB Code | 58200KB  | 10045ms |